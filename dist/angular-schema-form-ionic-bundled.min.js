/*!
 * angular-schema-form-ionic
 * @version 1.0.0
 * @date Wed, 20 Sep 2017 03:08:16 GMT
 * @link https://github.com/jessehon/angular-schema-form-ionic
 * @license MIT
 * Copyright (c) 2014-2017 JSON Schema Form
 */
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t,n){n(11)},function(e,t){var n="/ionic/array.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div  class="list schema-form-array {{::form.htmlClass + \' \' + idClass}}"\n      sf-field-model="sf-new-array"\n      sf-new-array>\n\n  <div class="item item-divider" ng-show="showTitle()">\n    {{ form.title }}\n  </div>\n\n  <div sf-field-model>\n    <div  class="list list-inset {{::form.fieldHtmlClass}}"\n          sf-field-model="ng-repeat"\n          ng-repeat="item in $$value$$ track by $id(trackBy(item, index))">\n\n      <div  schema-form-array-items\n            sf-key-controller\n            sf-parent-key="[{{form.key.join(\'][\')}}]"\n            sf-index="{{$index}}">\n      </div>\n\n      <button ng-hide="form.readonly || form.remove === null"\n          ng-click="deleteFromArray(item)"\n          ng-disabled="form.schema.minItems >= modelArray.length"\n          type="button"\n          class="button icon-left ion-close {{ form.style.remove || \'button-block\' }}">\n        {{ form.remove || \'Remove\'}}\n      </button>\n    </div>\n  </div>\n\n  <div class="padding" ng-model="modelArray" schema-validate="form">\n    <p class="help-block"\n         ng-show="(hasError() && errorMessage(schemaError())) || form.description"\n         ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description">\n    </p>\n\n    <button ng-hide="form.readonly || form.add === null"\n            ng-click="appendToArray()"\n            ng-disabled="form.schema.maxItems <= modelArray.length"\n            type="button"\n            class="button icon-left ion-plus {{ form.style.add || \'button-block\' }}">\n      {{ form.add || \'Add\'}}\n    </button>\n  </div>\n</div>\n')}]),e.exports=n},function(e,t){var n="/ionic/checkbox.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<label  for="{{::fieldId(true, false)}}"\n        class="item item-checkbox schema-form-{{form.type}} {{::form.htmlClass + \' \' + idClass}}"\n        ng-class="{\n          \'has-error\': form.disableErrorState !== true && hasError(),\n          \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n          \'has-feedback\': form.feedback !== false,\n          \'required\': form.required === true\n        }">\n  <div class="checkbox checkbox-input-hidden disable-pointer-events">\n    <input  type="checkbox"\n            sf-changed="form"\n            ng-disabled="form.readonly"\n            sf-field-model\n            schema-validate="form"\n            class="{{::form.fieldHtmlClass}}"\n            name="{{::fieldId(true, false)}}">\n    <i class="checkbox-icon"></i>\n  </div>\n\n  <div  class="item-content disable-pointer-events {{form.labelHtmlClass}}"\n        ng-bind-html="form.title">\n  </div>\n\n  \x3c!-- Help block for help text and error message --\x3e\n  <p class="help-block" sf-message="form.description"></p>\n</label>\n')}]),e.exports=n},function(e,t){var n="/ionic/default.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<label  for="{{::fieldId(true, false)}}"\n        class="item item-input {{::form.htmlClass + \' schema-form-\' + form.type + \' \' + idClass}}"\n        ng-class="{\n          \'has-error\': form.disableErrorState !== true && hasError(),\n          \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n          \'has-feedback\': form.feedback !== false,\n          \'required\': form.required === true\n        }">\n\n  <span ng-show="showTitle()"\n        class="input-label {{::form.labelHtmlClass}}">\n    {{form.title}}\n  </span>\n\n  <input ng-show="::form.key"\n         type="{{::form.type}}"\n         step="any"\n         sf-changed="form"\n         placeholder="{{::form.placeholder}}"\n         class="{{::form.fieldHtmlClass}}"\n         id="{{::fieldId(true, false)}}"\n         sf-field-model\n         ng-disabled="form.readonly"\n         schema-validate="form"\n         name="{{::fieldId(true, false)}}"\n         aria-describedby="{{::fieldId(true, false) + \'-status\'}}">\n\n  \x3c!-- Help block for help text and error message --\x3e\n  <p class="help-block" sf-message="form.description"></p>\n</label>\n')}]),e.exports=n},function(e,t){var n="/ionic/fieldset.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<fieldset ng-disabled="form.readonly"\n          class="schema-form-fieldset {{::form.htmlClass + \' \' + idClass}}">\n  <div ng-show="showTitle()" class="item item-divider">\n    {{ form.title }}\n  </div>\n\n  \x3c!-- Help block for help text and error message --\x3e\n  <p class="help-block" ng-show="form.description" ng-bind-html="form.description"></p>\n</fieldset>\n')}]),e.exports=n},function(e,t){var n="/ionic/radios.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div  class="list schema-form-radios {{::form.htmlClass + \' \' + idClass}}"\n      ng-class="{\n        \'has-error\': form.disableErrorState !== true &&  hasError(),\n        \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n        \'required\': form.required === true\n      }">\n\n  <label class="item item-radio" ng-repeat="tm in form.titleMap">\n    <input type="radio"\n           class="{{form.fieldHtmlClass}}"\n           sf-changed="form"\n           ng-disabled="form.readonly"\n           sf-field-model\n           ng-value="tm.value"\n           name="{{::fieldId(true, false)}}">\n\n    <div class="radio-content">\n      <div class="item-content disable-pointer-events {{::form.labelHtmlClass}}"\n           ng-bind-html="tm.name">\n      </div>\n      <i class="radio-icon disable-pointer-events icon ion-checkmark"></i>\n    </div>\n\n    \x3c!-- Help block for help text and error message --\x3e\n    <p class="help-block" sf-message="form.description"></p>\n  </label>\n\n</div>\n')}]),e.exports=n},function(e,t){var n="/ionic/section.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div  class="schema-form-section {{::form.htmlClass + \' \' + idClass}}"\n      sf-key-controller\n      sf-parent-key="[{{form.key.join(\'][\')}}]"\n      sf-index="{{$index}}">\n</div>\n')}]),e.exports=n},function(e,t){var n="/ionic/select.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<label  class="item item-input item-select schema-form-select {{::form.htmlClass + \' \' + idClass}}"\n        for="{{::fieldId(true, false)}}"\n        ng-class="{\n          \'has-error\': form.disableErrorState !== true && hasError(),\n          \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n          \'has-feedback\': form.feedback !== false,\n          \'required\': form.required === true\n        }">\n\n  <div class="input-label {{form.labelHtmlClass}}" ng-show="showTitle()">\n    {{form.title}}\n  </div>\n\n  <select sf-field-model\n          id="{{::fieldId(true, false)}}"\n          ng-disabled="form.readonly"\n          sf-changed="form"\n          class="{{::form.fieldHtmlClass}}"\n          schema-validate="form"\n          ng-options="item.value as item.name group by item.group for item in form.titleMap"\n          name="{{::fieldId(true, false)}}">\n  </select>\n\n  \x3c!-- Help block for help text and error message --\x3e\n  <p class="help-block" sf-message="form.description"></p>\n</label>\n')}]),e.exports=n},function(e,t){var n="/ionic/submit.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div class="form-group schema-form-submit {{::form.htmlClass + \' \' + idClass}}">\n  <input type="submit"\n         class="button {{ form.style || \'button-positive\' }} {{::form.fieldHtmlClass}}"\n         value="{{form.title}}"\n         ng-disabled="form.readonly"\n         ng-if="form.type === \'submit\'">\n  <button class="button {{ form.style }} {{::form.fieldHtmlClass}}"\n          type="button"\n          ng-click="buttonClick($event, form)"\n          ng-disabled="form.readonly"\n          ng-if="form.type !== \'submit\'">\n    <span ng-if="form.icon" class="{{form.icon}}"></span>\n    {{form.title}}\n  </button>\n</div>\n')}]),e.exports=n},function(e,t){var n="/ionic/textarea.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<label  class="item item-input {{::form.htmlClass + \' \' + idClass}} schema-form-textarea"\n        for="{{::fieldId(true, false)}}"\n        ng-class="{\n          \'has-error\': form.disableErrorState !== true && hasError(),\n          \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n          \'has-feedback\': form.feedback !== false,\n          \'required\': form.required === true\n        }">\n\n  <span ng-show="showTitle()"\n        class="input-label {{::form.labelHtmlClass}}">\n    {{form.title}}\n  </span>\n\n  <textarea class="{{::form.fieldHtmlClass}}"\n            id="{{::fieldId(true, false)}}"\n            sf-changed="form"\n            ng-attr-placeholder="{{::form.placeholder}}"\n            ng-disabled="form.readonly"\n            sf-field-model\n            schema-validate="form"\n            name="{{::fieldId(true, false)}}"></textarea>\n\n  \x3c!-- Help block for help text and error message --\x3e\n  <p class="help-block" sf-message="form.description"></p>\n</label>\n')}]),e.exports=n},function(e,t){var n="/ionic/toggle.html";window.angular.module("ng").run(["$templateCache",function(e){e.put(n,'<div  class="item item-toggle schema-form-toggle {{::form.htmlClass + \' \' + idClass}}"\n      ng-class="{\n        \'has-error\': form.disableErrorState !== true && hasError(),\n        \'has-success\': form.disableSuccessState !== true && hasSuccess(),\n        \'has-feedback\': form.feedback !== false,\n        \'required\': form.required === true\n      }">\n\n  <div class="{{::form.labelHtmlClass}}">\n    {{form.title}}\n  </div>\n\n  <label  for="{{::fieldId(true, false)}}"\n          class="toggle">\n\n    <input type="checkbox"\n           sf-changed="form"\n           ng-disabled="form.readonly"\n           sf-field-model\n           schema-validate="form"\n           class="{{::form.fieldHtmlClass}}"\n           name="{{::fieldId(true, false)}}">\n\n    <div class="track">\n      <div class="handle"></div>\n    </div>\n\n  </label>\n\n  \x3c!-- Help block for help text and error message --\x3e\n  <p class="help-block" sf-message="form.description"></p>\n</div>\n')}]),e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r,o){var a=n.builders.simpleTransclusion,c=n.builders.ngModelOptions,l=n.builders.ngModel,d=n.builders.sfField,h=n.builders.condition,v=n.builders.array,g=(n.builders.numeric,function(e){if(e.form.placeholder){var t=e.fieldFrag.querySelector("select"),n=document.createElement("option");n.setAttribute("value",""),n.setAttribute("sf-field-model","replaceAll"),1===angular.version.major&&angular.version.minor<4?n.setAttribute("ng-if","$$value$$ === undefined"):n.setAttribute("ng-show","$$value$$ === undefined"),n.textContent=e.form.placeholder,t.appendChild(n)}}),x=[d,l,c,h];t.defineDecorator("ionicDecorator",{array:{template:i.a,builder:[d,c,l,v,h]},button:{template:b.a,builder:x},checkbox:{template:s.a,builder:x},default:{template:u.a,builder:x},fieldset:{template:f.a,builder:[d,a,h]},radios:{template:p.a,builder:x},section:{template:m.a,builder:[d,a,h]},select:{template:y.a,builder:[g].concat(x)},submit:{template:b.a,builder:x},textarea:{template:w.a,builder:x},toggle:{template:C.a,builder:x}},[])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n.n(o),a=n(2),s=n.n(a),c=n(3),u=n.n(c),l=n(4),f=n.n(l),d=n(5),p=n.n(d),h=n(6),m=n.n(h),v=n(7),y=n.n(v),g=n(8),b=n.n(g),x=n(9),w=n.n(x),E=n(10),C=n.n(E);angular.module("schemaForm").config(r),r.$inject=["schemaFormProvider","schemaFormDecoratorsProvider","sfBuilderProvider","sfPathProvider","$injector"]},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(15),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){/*!
 * angular-schema-form
 * @version 1.0.0-alpha.4
 * @date Sat, 15 Apr 2017 08:27:27 GMT
 * @link https://github.com/json-schema-form/angular-schema-form
 * @license MIT
 * Copyright (c) 2014-2017 JSON Schema Form
 */
!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t){e.exports=angular},function(e,t,n){(function(t,n){/*!
 * json-schema-form-core
 * @version 1.0.0-alpha.4
 * @date Sat, 15 Apr 2017 08:25:55 GMT
 * @link https://github.com/json-schema-form/json-schema-form-core
 * @license MIT
 * Copyright (c) 2014-2017 JSON Schema Form
 */
e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var o=e.slice(),i=t||"-";return r&&(o=o.filter(function(e){return"number"!=typeof e})),(0!==n.length?n+i:"")+o.join(i)}return""}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);n.n(o);n.o(o,"parse")&&n.d(t,"parse",function(){return o.parse}),n.o(o,"stringify")&&n.d(t,"stringify",function(){return o.stringify}),n.o(o,"normalize")&&n.d(t,"normalize",function(){return o.normalize}),t.name=r},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t){if(!Array.isArray(e)){var n=function(){var n=[];return t?t.forEach(function(t){n.push({name:e[t],value:t})}):Object.keys(e).forEach(function(t){n.push({name:e[t],value:t})}),{v:n}}();if("object"===(void 0===n?"undefined":r(n)))return n.v}return e}},function(e,t,n){e.exports=n(11).ObjectPath},function(e,t,n){"use strict";function r(e,t,n,o){var i=e[g(n.type)];if(i)for(var a=void 0,s=function(t,n,o){return r(e,t,n,o)},c=0;c<i.length;c++)if(a=i[c](t,n,o,s))return a.schema["x-schema-form"]&&Object.assign(a,a.schema["x-schema-form"]),a}function o(e,t,r){r=r||{};var o=r.global&&r.global.formDefaults?Object.assign({},r.global.formDefaults):{};return r.global&&!0===r.global.supressPropertyTitles?o.title=t.title:o.title=t.title||e,t.description&&(o.description=t.description),!0!==r.required&&!0!==t.required||(o.required=!0),t.maxLength&&(o.maxlength=t.maxLength),t.minLength&&(o.minlength=t.minLength),(t.readOnly||t.readonly)&&(o.readonly=!0),t.minimum&&(o.minimum=t.minimum+(t.exclusiveMinimum?1:0)),t.maximum&&(o.maximum=t.maximum-(t.exclusiveMaximum?1:0)),t.validationMessage&&(o.validationMessage=t.validationMessage),t.enumNames&&(o.titleMap=n.i(v.a)(t.enumNames,t.enum)),o.schema=t,o.ngModelOptions=o.ngModelOptions||{},o}function i(e,t,r){if("string"===g(t.type)&&!t.enum){var i=o(e,t,r);return i.key=r.path,i.type="text",r.lookup[n.i(m.stringify)(r.path)]=i,i}}function a(e,t,r){if("number"===g(t.type)){var i=o(e,t,r);return i.key=r.path,i.type="number",r.lookup[n.i(m.stringify)(r.path)]=i,i}}function s(e,t,r){if("integer"===g(t.type)){var i=o(e,t,r);return i.key=r.path,i.type="number",r.lookup[n.i(m.stringify)(r.path)]=i,i}}function c(e,t,r){if("boolean"===g(t.type)){var i=o(e,t,r);return i.key=r.path,i.type="checkbox",r.lookup[n.i(m.stringify)(r.path)]=i,i}}function u(e,t,r){if("string"===g(t.type)&&t.enum){var i=o(e,t,r);return i.key=r.path,i.type="select",i.titleMap||(i.titleMap=b(t.enum)),r.lookup[n.i(m.stringify)(r.path)]=i,i}}function l(e,t,r){if("array"===g(t.type)&&t.items&&t.items.enum){var i=o(e,t,r);return i.key=r.path,i.type="checkboxes",i.titleMap||(i.titleMap=b(t.items.enum)),r.lookup[n.i(m.stringify)(r.path)]=i,i}}function f(e,t,r,i){if("object"===g(t.type)){var a=function(){var a=o(e,t,r);return a.type="fieldset",a.key=r.path,a.items=[],r.lookup[n.i(m.stringify)(r.path)]=a,t.properties&&Object.keys(t.properties).forEach(function(e){var o=t.properties[e],s=r.path.slice();if(s.push(e),!0!==r.ignore[n.i(m.stringify)(s)]){var c=t.required&&-1!==t.required.indexOf(e),u=i(e,o,{path:s,required:c||!1,lookup:r.lookup,ignore:r.ignore,global:r.global});u&&a.items.push(u)}}),{v:a}}();if("object"===(void 0===a?"undefined":y(a)))return a.v}}function d(e,t,r,i){if("array"===g(t.type)){var a=o(e,t,r);a.type="array",a.key=r.path,r.lookup[n.i(m.stringify)(r.path)]=a;var s=t.required&&-1!==t.required.indexOf(r.path[r.path.length-1]),c=r.path.slice();return c.push(""),a.items=[i(e,t.items,{path:c,required:s||!1,lookup:r.lookup,ignore:r.ignore,global:r.global})],a}}function p(){return{string:[u,i],object:[f],number:[a],integer:[s],boolean:[c],array:[l,d]}}function h(e,t,n,o){var i=[],a={};if(n=n||{},o=o||{},t=t||p(),!e.properties)throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return Object.keys(e.properties).forEach(function(s){if(!0!==n[s]){var c=e.required&&-1!==e.required.indexOf(s),u=r(t,s,e.properties[s],{path:[s],lookup:a,ignore:n,required:c,global:o});u&&i.push(u)}}),{form:i,lookup:a}}Object.defineProperty(t,"__esModule",{value:!0});var m=n(0),v=n(1);t.defaultFormDefinition=r,t.stdFormObj=o,t.text=i,t.number=a,t.integer=s,t.checkbox=c,t.select=u,t.checkboxes=l,t.fieldset=f,t.array=d,t.createDefaults=p,t.defaultForm=h;var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(e){if(Array.isArray(e)&&2===e.length){if("null"===e[0])return e[1];if("null"===e[1])return e[0]}return e},b=function(e){var t=[];return e.forEach(function(e){t.push({name:e,value:e})}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),i=n(1),a=n(6);n.d(t,"merge",function(){return a.a});var s=n(8);n.d(t,"select",function(){return s.a});var c=n(7);n.d(t,"jsonref",function(){return c.a});var u=n(9);n.d(t,"traverseSchema",function(){return u.a}),n.d(t,"traverseForm",function(){return u.b});var l=n(10);n.d(t,"validate",function(){return l.a}),n.d(t,"sfPath",function(){return f}),n.d(t,"schemaDefaults",function(){return d}),n.d(t,"canonicalTitleMap",function(){return p});var f=o,d=r,p=i.a},function(e,r,o){var i,a,s,c,c,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){if("object"===u(r)&&void 0!==e)e.exports=t();else{a=[],i=t,void 0!==(s="function"==typeof i?i.apply(r,a):i)&&(e.exports=s)}}(function(){var e;return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof c&&c;if(!s&&u)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n||e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof c&&c,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e){var t;return h(e,"Array")?(t=[],e.forEach(function(e,n){t[n]=r(e)})):h(e,"Object")?(t={},Object.keys(e).forEach(function(n){t[n]=r(e[n])})):t=e,t}function o(e,t){function n(e){Object.keys(e).forEach(function(t){r[t]=e[t]})}var r={};return n(I.parse(e||"")),n(I.parse(t||"")),0===Object.keys(r).length?void 0:I.stringify(r)}function i(e,t){h(e,"String")&&(e=F(e)),h(t,"String")&&(t=F(t));var n,r,i=y(h(t,"Undefined")?"":t);return L.indexOf(i.reference)>-1?r=i:(n=h(e,"Undefined")?void 0:y(e),h(n,"Undefined")?r=i:(r=n,r.path=F(_.join(n.path,i.path)),r.query=o(n.query,i.query))),r.fragment=void 0,(-1===L.indexOf(r.reference)&&0===r.path.indexOf("../")?"../":"")+R.serialize(r)}function a(e,t){var n,r=[];return t.length>0&&(n=e,t.slice(0,t.length-1).forEach(function(e){e in n&&(n=n[e],r.push(n))})),r}function s(e,t,n,o,i,a,s,l,f){var d,p;if(n.length>0)try{d=u(t,n)}catch(t){"remote"===e&&(o.error=t.message,o.missing=!0)}else d=t;if(h(d,"Undefined")||(o.value=d),h(d,"Array")||h(d,"Object"))return p=r(i),"local"===e?(delete p.subDocPath,t=d):(p.relativeBase=_.dirname(a[a.length-1]),0===n.length?delete p.subDocPath:p.subDocPath=n),c(t,p,a,s,l,f)}function c(e,t,n,r,o,a){var c=Promise.resolve(),u=r.length?A(r[r.length-1]):[],l=$(e,t),f=t.subDocPath||[],p=P(f),m=["#"];return n.forEach(function(e,t){"#"!==e.charAt(0)&&m.push(r[t])}),m.reverse(),"#"!==(n[n.length-1]||"").charAt(0)&&(o.documents[P(u)]=e),Object.keys(l).forEach(function(v){var y,g,b,x,w=l[v];b=0===n.length?u.concat(A(v)):u.concat(A(v).slice(0===n.length?0:f.length)),x=P(b),h(o[x],"Undefined")&&(o.refs[x]=l[v],h(w.error,"Undefined")&&"invalid"!==w.type&&(N.indexOf(w.type)>-1?(y=i(t.relativeBase,w.uri),g=n.indexOf(y)):(y=w.uri,g=r.indexOf(y)),w.ancestorPtrs=m,w.indirect=a,-1===g?N.indexOf(w.type)>-1?c=c.then(function(){return d(y,t).then(function(e){return s("remote",e,h(w.uriDetails.fragment,"Undefined")?[]:A(decodeURI(w.uriDetails.fragment)),w,t,n.concat(y),r.concat(x),o,a)}).catch(function(e){w.error=e.message,w.missing=!0})}):0!==x.indexOf(y+"/")&&x!==y&&0!==p.indexOf(y+"/")&&p!==y?0!==y.indexOf(p+"/")&&(c=c.then(function(){return s("local",e,A(y),w,t,n.concat(y),r.concat(x),o,a||-1===y.indexOf(p+"/")&&y!==p)})):w.circular=!0:(r.slice(g).forEach(function(e){o.refs[e].circular=!0}),w.circular=!0)))}),c=c.then(function(){function e(i,a,s,c){Object.keys(o.refs).forEach(function(u){var l=o.refs[u];-1===r.indexOf(c)&&-1===n.indexOf(s)&&-1===t.indexOf(c)&&u!==s&&0===u.indexOf(c+"/")&&(a.indexOf(c)>-1?a.forEach(function(e){-1===t.indexOf(c)&&t.push(e)}):e(i.concat(s),a.concat(c),u,l.uri),n.push(s),r.push(c))})}var t=[],n=[],r=[];Object.keys(o.refs).forEach(function(n){var r=o.refs[n];"local"!==r.type||r.circular||-1!==t.indexOf(r.uri)||e([],[],n,r.uri)}),Object.keys(o.refs).forEach(function(e){var n=o.refs[e];t.indexOf(n.uri)>-1&&(n.circular=!0)})}).then(function(){return o})}function u(e,t){var n=e;return t.forEach(function(e){if(!((e=decodeURI(e))in n))throw Error("JSON Pointer points to missing location: "+P(t));n=n[e]}),n}function l(e){return Object.keys(e).filter(function(e){return"$ref"!==e})}function f(e){var t;switch(e.uriDetails.reference){case"absolute":case"uri":t="remote";break;case"same-document":t="local";break;default:t=e.uriDetails.reference}return t}function d(e,t){var n=U[e],o=Promise.resolve(),i=r(t.loaderOptions||{});return h(n,"Undefined")?(h(i.processContent,"Undefined")&&(i.processContent=function(e,t){t(void 0,JSON.parse(e.text))}),o=D.load(decodeURI(e),i),o=o.then(function(t){return U[e]={value:t},t}).catch(function(t){throw U[e]={error:t},t})):o=o.then(function(){return n.value}),o=o.then(function(e){return r(e)})}function p(e,t){var n=!0;try{if(!h(e,"Object"))throw new Error("obj is not an Object");if(!h(e.$ref,"String"))throw new Error("obj.$ref is not a String")}catch(e){if(t)throw e;n=!1}return n}function h(e,t){return"Undefined"===t?void 0===e:Object.prototype.toString.call(e)==="[object "+t+"]"}function m(e){var t,n;return h(e.filter,"Array")||h(e.filter,"String")?(n=h(e.filter,"String")?[e.filter]:e.filter,t=function(e){return n.indexOf(e.type)>-1||n.indexOf(f(e))>-1}):h(e.filter,"Function")?t=e.filter:h(e.filter,"Undefined")&&(t=function(){return!0}),function(n,r){return("invalid"!==n.type||!0===e.includeInvalid)&&t(n,r)}}function v(e){var t;return h(e.subDocPath,"Array")?t=e.subDocPath:h(e.subDocPath,"String")?t=A(e.subDocPath):h(e.subDocPath,"Undefined")&&(t=[]),t}function y(e){return R.parse(encodeURI(decodeURI(e)))}function g(e,t,n){u(e,t.slice(0,t.length-1))[decodeURI(t[t.length-1])]=n}function b(e,t,n,r){function o(t,o){n.push(o),b(e,t,n,r),n.pop()}var i=!0;h(r,"Function")&&(i=r(e,t,n)),-1===e.indexOf(t)&&(e.push(t),!1!==i&&(h(t,"Array")?t.forEach(function(e,t){o(e,t.toString())}):h(t,"Object")&&Object.keys(t).forEach(function(e){o(t[e],e)}))),e.pop()}function x(e,t){if(e=h(e,"Undefined")?{}:r(e),!h(e,"Object"))throw new TypeError("options must be an Object");if(!(h(e.filter,"Undefined")||h(e.filter,"Array")||h(e.filter,"Function")||h(e.filter,"String")))throw new TypeError("options.filter must be an Array, a Function of a String");if(!h(e.includeInvalid,"Undefined")&&!h(e.includeInvalid,"Boolean"))throw new TypeError("options.includeInvalid must be a Boolean");if(!h(e.refPreProcessor,"Undefined")&&!h(e.refPreProcessor,"Function"))throw new TypeError("options.refPreProcessor must be a Function");if(!h(e.refPostProcessor,"Undefined")&&!h(e.refPostProcessor,"Function"))throw new TypeError("options.refPostProcessor must be a Function");if(!h(e.subDocPath,"Undefined")&&!h(e.subDocPath,"Array")&&!T(e.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(e.filter=m(e),e.subDocPath=v(e),!h(t,"Undefined"))try{u(t,e.subDocPath)}catch(e){throw e.message=e.message.replace("JSON Pointer","options.subDocPath"),e}return e}function w(){U={}}function E(e){if(!h(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return h(e,"String")||(e=JSON.stringify(e)),decodeURI(e.replace(/~1/g,"/").replace(/~0/g,"~"))})}function C(e){if(!h(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return h(e,"String")||(e=JSON.stringify(e)),e.replace(/~/g,"~0").replace(/\//g,"~1")})}function $(e,t){var n={};if(!h(e,"Array")&&!h(e,"Object"))throw new TypeError("obj must be an Array or an Object");return t=x(t,e),b(a(e,t.subDocPath),u(e,t.subDocPath),r(t.subDocPath),function(e,o,i){var a,s=!0;return p(o)&&(h(t.refPreProcessor,"Undefined")||(o=t.refPreProcessor(r(o),i)),a=k(o),h(t.refPostProcessor,"Undefined")||(a=t.refPostProcessor(a,i)),t.filter(a,i)&&(n[P(i)]=a),l(o).length>0&&(s=!1)),s}),n}function O(e,t){var n=Promise.resolve();return n=n.then(function(){if(!h(e,"String"))throw new TypeError("location must be a string");return t=x(t),e=i(t.relativeBase,e),d(e,t)}).then(function(n){var o=r(U[e]),i=r(t),a=y(e);return h(o.refs,"Undefined")&&(delete i.filter,delete i.subDocPath,i.includeInvalid=!0,U[e].refs=$(n,i)),h(t.filter,"Undefined")||(i.filter=t.filter),h(a.fragment,"Undefined")?h(a.subDocPath,"Undefined")||(i.subDocPath=t.subDocPath):i.subDocPath=A(decodeURI(a.fragment)),{refs:$(n,i),value:n}})}function k(e){var t,n,r,o={def:e};try{p(e,!0)?(t=e.$ref,r=H[t],h(r,"Undefined")&&(r=H[t]=y(t)),o.uri=t,o.uriDetails=r,h(r.error,"Undefined")?o.type=f(o):(o.error=o.uriDetails.error,o.type="invalid"),n=l(e),n.length>0&&(o.warning="Extra JSON Reference properties will be ignored: "+n.join(", "))):o.type="invalid"}catch(e){o.error=e.message,o.type="invalid"}return o}function T(e,t){var n,r=!0;try{if(!h(e,"String"))throw new Error("ptr is not a String");if(""!==e){if(n=e.charAt(0),-1===["#","/"].indexOf(n))throw new Error("ptr must start with a / or #/");if("#"===n&&"#"!==e&&"/"!==e.charAt(1))throw new Error("ptr must start with a / or #/");if(e.match(q))throw new Error("ptr has invalid token(s)")}}catch(e){if(!0===t)throw e;r=!1}return r}function S(e,t){return p(e,t)&&"invalid"!==k(e,t).type}function A(e){if(!T(e))throw new Error("ptr must be a JSON Pointer");var t=e.split("/");return t.shift(),E(t)}function P(e,t){if(!h(e,"Array"))throw new Error("path must be an Array");return(!1!==t?"#":"")+(e.length>0?"/":"")+C(e).join("/")}function M(e,t){var n=Promise.resolve();return n=n.then(function(){if(!h(e,"Array")&&!h(e,"Object"))throw new TypeError("obj must be an Array or an Object");t=x(t,e),e=r(e)}).then(function(){return c(e,t,[],[],{documents:{},refs:{}})}).then(function(t){function n(e,t){return A(e).length-A(t).length}var r={},o={};return Object.keys(t.refs).sort(n).forEach(function(n){var i=t.refs[n];i.indirect||(o[n]=i),delete i.indirect,h(i.error,"Undefined")&&"invalid"!==i.type?(h(i.value,"Undefined")&&i.circular&&(i.value=i.def),h(i.value,"Undefined")?r[n]=i:("#"===n?e=i.value:g(e,A(n),i.value),delete i.ancestorPtrs)):delete i.ancestorPtrs}),Object.keys(r).forEach(function(n){var o=r[n];o.ancestorPtrs.forEach(function(r,i){if(h(o.value,"Undefined"))try{o.value=u(t.documents[r],A(o.uri)),delete o.ancestorPtrs,g(e,A(n),o.value)}catch(e){i===o.ancestorPtrs.length-1&&(o.error=e.message,o.missing=!0,delete o.ancestorPtrs)}})}),{refs:o,resolved:e}})}function j(e,t){var n=Promise.resolve();return n=n.then(function(){if(!h(e,"String"))throw new TypeError("location must be a string");return t=x(t),e=i(t.relativeBase,e),d(e,t)}).then(function(n){var o=r(t),i=y(e);return h(i.fragment,"Undefined")||(o.subDocPath=A(decodeURI(i.fragment))),o.relativeBase=_.dirname(e),M(n,o).then(function(e){return{refs:e.refs,resolved:e.resolved,value:n}})})}var _=e("path"),D=e("path-loader"),I=e("querystring"),F=e("slash"),R=e("uri-js"),q=/~(?:[^01]|$)/g,U={},N=["relative","remote"],L=["absolute","uri"],H={};"undefined"==typeof Promise&&e("native-promise-only"),t.exports.clearCache=w,t.exports.decodePath=E,t.exports.encodePath=C,t.exports.findRefs=$,t.exports.findRefsAt=O,t.exports.getRefDetails=k,t.exports.isPtr=T,t.exports.isRef=S,t.exports.pathFromPtr=A,t.exports.pathToPtr=P,t.exports.resolveRefs=M,t.exports.resolveRefsAt=j},{"native-promise-only":3,path:4,"path-loader":5,querystring:11,slash:13,"uri-js":23}],2:[function(e,t,n){function r(e){if(e)return o(e)}function o(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],3:[function(r,o,i){(function(t){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
!function(t,n,r){n[t]=n[t]||r(),void 0!==o&&o.exports?o.exports=n[t]:"function"==typeof e&&e.amd&&e(function(){return n[t]})}("Promise",void 0!==t?t:this,function(){"use strict";function e(e,t){h.add(e,t),p||(p=v(h.drain))}function t(e){var t,n=void 0===e?"undefined":u(e);return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function r(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,n,r){var o,i;try{!1===n?r.reject(e.msg):(o=!0===n?e.msg:n.call(void 0,e.msg),o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(e){r.reject(e)}}function i(n){var o,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(o=t(n))?e(function(){var e=new c(s);try{o.call(n,function(){i.apply(e,arguments)},function(){a.apply(e,arguments)})}catch(t){a.call(e,t)}}):(s.msg=n,s.state=1,s.chain.length>0&&e(r,s))}catch(e){a.call(new c(s),e)}}}function a(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(r,n))}function s(e,t,n,r){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){n(o,e)},r)}(o)}function c(e){this.def=e,this.triggered=!1}function l(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new l(this);this.then=function(t,o){var i={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),n.chain.push(i),0!==n.state&&e(r,n),i.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){i.call(n,e)},function(e){a.call(n,e)})}catch(e){a.call(n,e)}}var d,p,h,m=Object.prototype.toString,v=void 0!==n?function(e){return n(e)}:setTimeout;try{Object.defineProperty({},"x",{}),d=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){d=function(e,t,n){return e[t]=n,e}}h=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(o,i){r=new e(o,i),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=p=void 0;e;)e.fn.call(e.self),e=e.next}}}();var y=d({},"constructor",f,!1);return f.prototype=y,d(y,"__NPO__",0,!1),d(f,"resolve",function(e){var t=this;return e&&"object"==(void 0===e?"undefined":u(e))&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),d(f,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),d(f,"all",function(e){var t=this;return"[object Array]"!=m.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=e.length,i=Array(o),a=0;s(t,e,function(e,t){i[e]=t,++a===o&&n(i)},r)})}),d(f,"race",function(e){var t=this;return"[object Array]"!=m.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");s(t,e,function(e,t){n(t)},r)})}),f})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return o.exec(e).slice(1)};n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+n||"."},n.normalize=function(e){var o=n.isAbsolute(e),i="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}for(var u=[],c=s;c<o.length;c++)u.push("..");return u=u.concat(i.slice(s)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:8}],5:[function(e,t,n){"use strict";function r(e){return void 0!==e&&(e=-1===e.indexOf("://")?"":e.split("://")[0]),e}function o(e){var t=r(e),n=i[t];if(void 0===n){if(""!==t)throw new Error("Unsupported scheme: "+t);n=a}return n}var i={file:e("./lib/loaders/file"),http:e("./lib/loaders/http"),https:e("./lib/loaders/http")},a="object"===("undefined"==typeof window?"undefined":u(window))||"function"==typeof importScripts?i.http:i.file;"undefined"==typeof Promise&&e("native-promise-only"),t.exports.load=function(e,t){var n=Promise.resolve();return void 0===t&&(t={}),n=n.then(function(){if(void 0===e)throw new TypeError("location is required");if("string"!=typeof e)throw new TypeError("location must be a string");if(void 0!==t){if("object"!==(void 0===t?"undefined":u(t)))throw new TypeError("options must be an object");if(void 0!==t.processContent&&"function"!=typeof t.processContent)throw new TypeError("options.processContent must be a function")}}),n=n.then(function(){return new Promise(function(n,r){o(e).load(e,t||{},function(e,t){e?r(e):n(t)})})}).then(function(e){return t.processContent?new Promise(function(n,r){t.processContent("object"===(void 0===e?"undefined":u(e))?e:{text:e},function(e,t){e?r(e):n(t)})}):"object"===(void 0===e?"undefined":u(e))?e.text:e})}},{"./lib/loaders/file":6,"./lib/loaders/http":7,"native-promise-only":3}],6:[function(e,t,n){"use strict";var r=new TypeError("The 'file' scheme is not supported in the browser");t.exports.getBase=function(){throw r},t.exports.load=function(){var e=arguments[arguments.length-1];if("function"!=typeof e)throw r;e(r)}},{}],7:[function(e,t,n){"use strict";var r=e("superagent"),o=["delete","get","head","patch","post","put"];t.exports.load=function(e,t,n){function i(e,t){e?n(e):("function"==typeof t.buffer&&t.buffer(!0),t.end(function(e,t){e?n(e):n(void 0,t)}))}var a,s,c=t.method?t.method.toLowerCase():"get";if(void 0!==t.method?"string"!=typeof t.method?a=new TypeError("options.method must be a string"):-1===o.indexOf(t.method)&&(a=new TypeError("options.method must be one of the following: "+o.slice(0,o.length-1).join(", ")+" or "+o[o.length-1])):void 0!==t.prepareRequest&&"function"!=typeof t.prepareRequest&&(a=new TypeError("options.prepareRequest must be a function")),a)n(a);else if(s=r["delete"===c?"del":c](e),t.prepareRequest)try{t.prepareRequest(s,i)}catch(e){n(e)}else i(void 0,s)}},{superagent:14}],8:[function(e,t,n){function r(){l=!1,s.length?u=s.concat(u):f=-1,u.length&&o()}function o(){if(!l){var e=setTimeout(r);l=!0;for(var t=u.length;t;){for(s=u,u=[];++f<t;)s&&s[f].run();f=-1,t=u.length}s=null,l=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function a(){}var s,c=t.exports={},u=[],l=!1,f=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new i(e,t)),1!==u.length||l||setTimeout(o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],9:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,d,p,h,m=e[l].replace(s,"%20"),v=m.indexOf(n);v>=0?(f=m.substr(0,v),d=m.substr(v+1)):(f=m,d=""),p=decodeURIComponent(f),h=decodeURIComponent(d),r(a,p)?o(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],10:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=function(e){switch(void 0===e?"undefined":u(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===(void 0===e?"undefined":u(e))?r(a(e),function(a){var s=encodeURIComponent(o(a))+n;return i(e[a])?r(e[a],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[a]))}).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],11:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":9,"./encode":10}],12:[function(e,t,n){t.exports=function(e,t,n){for(var r=0,o=e.length,i=3==arguments.length?n:e[r++];r<o;)i=t.call(null,i,e[r],++r,e);return i}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){var t=/^\\\\\?\\/.test(e),n=/[^\x00-\x80]+/.test(e);return t||n?e:e.replace(/\\/g,"/")}},{}],14:[function(e,t,n){function r(){}function o(e){switch({}.toString.call(e)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(e){if(!b(e))return e;var t=[];for(var n in e)null!=e[n]&&a(t,n,e[n]);return t.join("&")}function a(e,t,n){if(Array.isArray(n))return n.forEach(function(n){a(e,t,n)});e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}function s(e){for(var t,n,r={},o=e.split("&"),i=0,a=o.length;i<a;++i)n=o[i],t=n.split("="),r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return r}function c(e){var t,n,r,o,i=e.split(/\r?\n/),a={};i.pop();for(var s=0,c=i.length;s<c;++s)n=i[s],t=n.indexOf(":"),r=n.slice(0,t).toLowerCase(),o=w(n.slice(t+1)),a[r]=o;return a}function u(e){return/[\/+]json\b/.test(e)}function l(e){return e.split(/ *; */).shift()}function f(e){return y(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(e[r]=o),e},{})}function d(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new d(n)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,e.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,e.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var r=new Error(t.statusText||"Unsuccessful HTTP response");r.original=e,r.response=t,r.status=t.status,n.callback(r,t)})}function h(e,t){var n=x("DELETE",e);return t&&n.end(t),n}var m,v=e("emitter"),y=e("reduce"),g=e("./request-base"),b=e("./is-object");m="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var x=t.exports=e("./request").bind(null,p);x.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var w="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};x.serializeObject=i,x.parseString=s,x.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},x.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},x.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},d.prototype.get=function(e){return this.header[e.toLowerCase()]},d.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=l(t);var n=f(t);for(var r in n)this[r]=n[r]},d.prototype.parseBody=function(e){var t=x.parse[this.type];return!t&&u(this.type)&&(t=x.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null},d.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},d.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=t,o.url=n,o},x.Response=d,v(p.prototype);for(var E in g)p.prototype[E]=g[E];p.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},p.prototype.type=function(e){return this.set("Content-Type",x.types[e]||e),this},p.prototype.responseType=function(e){return this._responseType=e,this},p.prototype.accept=function(e){return this.set("Accept",x.types[e]||e),this},p.prototype.auth=function(e,t,n){switch(n||(n={type:"basic"}),n.type){case"basic":var r=btoa(e+":"+t);this.set("Authorization","Basic "+r);break;case"auto":this.username=e,this.password=t}return this},p.prototype.query=function(e){return"string"!=typeof e&&(e=i(e)),e&&this._query.push(e),this},p.prototype.attach=function(e,t,n){return this._getFormData().append(e,t,n||t.name),this},p.prototype._getFormData=function(){return this._formData||(this._formData=new m.FormData),this._formData},p.prototype.send=function(e){var t=b(e),n=this._header["content-type"];if(t&&b(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||o(e)?this:(n||this.type("json"),this)},d.prototype.parse=function(e){return m.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(e),this},d.prototype.serialize=function(e){return this._parser=e,this},p.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},p.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},p.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(e){var t=this,n=this.xhr=x.getXHR(),i=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=e||r,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(t){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var c=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=c);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=c)}catch(e){}if(a&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},a)),i&&(i=x.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!o(s)){var l=this._header["content-type"],f=this._parser||x.serialize[l?l.split(";")[0]:""];!f&&u(l)&&(f=x.serialize["application/json"]),f&&(s=f(s))}for(var d in this.header)null!=this.header[d]&&n.setRequestHeader(d,this.header[d]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==s?s:null),this},x.Request=p,x.get=function(e,t,n){var r=x("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},x.head=function(e,t,n){var r=x("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},x.del=h,x.delete=h,x.patch=function(e,t,n){var r=x("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},x.post=function(e,t,n){var r=x("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},x.put=function(e,t,n){var r=x("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},{"./is-object":15,"./request":17,"./request-base":16,emitter:2,reduce:12}],15:[function(e,t,n){function r(e){return null!=e&&"object"==(void 0===e?"undefined":u(e))}t.exports=r},{}],16:[function(e,t,n){var r=e("./is-object");n.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.parse=function(e){return this._parser=e,this},n.timeout=function(e){return this._timeout=e,this},n.then=function(e,t){return this.end(function(n,r){n?t(n):e(r)})},n.use=function(e){return e(this),this},n.get=function(e){return this._header[e.toLowerCase()]},n.getHeader=n.get,n.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},n.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},n.field=function(e,t){return this._getFormData().append(e,t),this}},{"./is-object":15}],17:[function(e,t,n){function r(e,t,n){return"function"==typeof n?new e("GET",t).end(n):2==arguments.length?new e("GET",t):new e(t,n)}t.exports=r},{}],18:[function(e,t,n){/*! https://mths.be/punycode v1.3.2 by @mathias, modified for URI.js */var r=function(){function e(e){throw new RangeError($[e])}function t(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function n(e,n){var r=e.split("@"),o="";return r.length>1&&(o=r[0]+"@",e=r[1]),e=e.replace(C,"."),o+t(e.split("."),n).join(".")}function r(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function o(e){return t(e,function(e){var t="";return e>65535&&(e-=65536,t+=T(e>>>10&1023|55296),e=56320|1023&e),t+=T(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p}function a(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function s(e,t,n){var r=0;for(e=n?k(e/y):e>>1,e+=k(e/t);e>O*m>>1;r+=p)e=k(e/O);return k(r+(O+1)*e/(e+v))}function c(t){var n,r,a,c,u,l,f,v,y,w,E=[],C=t.length,$=0,O=b,T=g;for(r=t.lastIndexOf(x),r<0&&(r=0),a=0;a<r;++a)t.charCodeAt(a)>=128&&e("not-basic"),E.push(t.charCodeAt(a));for(c=r>0?r+1:0;c<C;){for(u=$,l=1,f=p;c>=C&&e("invalid-input"),v=i(t.charCodeAt(c++)),(v>=p||v>k((d-$)/l))&&e("overflow"),$+=v*l,y=f<=T?h:f>=T+m?m:f-T,!(v<y);f+=p)w=p-y,l>k(d/w)&&e("overflow"),l*=w;n=E.length+1,T=s($-u,n,0==u),k($/n)>d-O&&e("overflow"),O+=k($/n),$%=n,E.splice($++,0,O)}return o(E)}function u(t){var n,o,i,c,u,l,f,v,y,w,E,C,$,O,S,A=[];for(t=r(t),C=t.length,n=b,o=0,u=g,l=0;l<C;++l)(E=t[l])<128&&A.push(T(E));for(i=c=A.length,c&&A.push(x);i<C;){for(f=d,l=0;l<C;++l)(E=t[l])>=n&&E<f&&(f=E);for($=i+1,f-n>k((d-o)/$)&&e("overflow"),o+=(f-n)*$,n=f,l=0;l<C;++l)if(E=t[l],E<n&&++o>d&&e("overflow"),E==n){for(v=o,y=p;w=y<=u?h:y>=u+m?m:y-u,!(v<w);y+=p)S=v-w,O=p-w,A.push(T(a(w+S%O,0))),v=k(S/O);A.push(T(a(v,0))),u=s(o,$,i==c),o=0,++i}++o,++n}return A.join("")}function l(e){return n(e,function(e){return w.test(e)?c(e.slice(4).toLowerCase()):e})}function f(e){return n(e,function(e){return E.test(e)?"xn--"+u(e):e})}var d=2147483647,p=36,h=1,m=26,v=38,y=700,g=72,b=128,x="-",w=/^xn--/,E=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=p-h,k=Math.floor,T=String.fromCharCode;return{version:"1.3.2",ucs2:{decode:r,encode:o},decode:c,encode:u,toASCII:f,toUnicode:l}}();"undefined"==typeof COMPILED&&void 0!==t&&(t.exports=r)},{}],19:[function(e,t,n){e("./schemes/http"),e("./schemes/urn"),e("./schemes/mailto")},{"./schemes/http":20,"./schemes/mailto":21,"./schemes/urn":22}],20:[function(e,t,n){if("undefined"==typeof COMPILED&&void 0===r&&"function"==typeof e)var r=e("../uri");r.SCHEMES.http=r.SCHEMES.https={domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}}},{"../uri":23}],21:[function(e,t,n){if("undefined"==typeof COMPILED&&void 0===r&&"function"==typeof e)var r=e("../uri"),o=e("../punycode");!function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var n=e.length-1,r=1;r<n;++r)e[r]=e[r].slice(1,-1);return e[n]=e[n].slice(1),e.join("")}return e[0]}function t(e){return"(?:"+e+")"}function n(e){return e.toUpperCase()}function i(e){var t=r.pctDecChars(e);return t.match(A)?t:e}function a(e){return void 0!==e&&null!==e?e instanceof Array&&!e.callee?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}var s={},c=r.IRI_SUPPORT,u="[A-Za-z0-9\\-\\.\\_\\~"+(c?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",l="[0-9A-Fa-f]",f=t(t("%[EFef][0-9A-Fa-f]%"+l+l+"%"+l+l)+"|"+t("%[89A-Fa-f][0-9A-Fa-f]%"+l+l)+"|"+t("%"+l+l)),d="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",p="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",h=e(p,'[\\"\\\\]'),m=t(d+"+"+t("\\."+d+"+")+"*"),v=t("\\\\"+h),y=t(p+"|"+v),g=t('\\"'+y+'*\\"'),b=t(u+"|"+f+"|[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),x=t(m+"|\\[[\\x21-\\x5A\\x5E-\\x7E]*\\]"),w=t(m+"|"+g),E=t(w+"\\@"+x),C=t(E+t("\\,"+E)+"*"),$=t(b+"*"),O=$,k=t($+"\\="+O),T=t(k+t("\\&"+k)+"*"),S=t("\\?"+T),A=(r.VALIDATE_SUPPORT&&new RegExp("^mailto\\:"+C+"?"+S+"?$"),new RegExp(u,"g")),P=new RegExp(f,"g"),M=new RegExp(e("[^]",d,"[\\.]",'[\\"]',h),"g"),j=new RegExp(e("[^]",d,"[\\.]","[\\[]","[\\x21-\\x5A\\x5E-\\x7E]","[\\]]"),"g"),_=new RegExp(e("[^]",u,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),D=_,I=r.VALIDATE_SUPPORT&&new RegExp("^"+C+"$"),F=r.VALIDATE_SUPPORT&&new RegExp("^"+T+"$");r.SCHEMES.mailto={parse:function(e,t){r.VALIDATE_SUPPORT&&!e.error&&(e.path&&!I.test(e.path)?e.error="Email address is not valid":e.query&&!F.test(e.query)&&(e.error="Header fields are invalid"));var n=e.to=e.path?e.path.split(","):[];if(e.path=void 0,e.query){for(var i=!1,a={},s=e.query.split("&"),c=0,u=s.length;c<u;++c){var l=s[c].split("=");switch(l[0]){case"to":for(var f=l[1].split(","),d=0,p=f.length;d<p;++d)n.push(f[d]);break;case"subject":e.subject=r.unescapeComponent(l[1],t);break;case"body":e.body=r.unescapeComponent(l[1],t);break;default:i=!0,a[r.unescapeComponent(l[0],t)]=r.unescapeComponent(l[1],t)}}i&&(e.headers=a)}e.query=void 0;for(var c=0,u=n.length;c<u;++c){var h=n[c].split("@");if(h[0]=r.unescapeComponent(h[0]),void 0===o||t.unicodeSupport)h[1]=r.unescapeComponent(h[1],t).toLowerCase();else try{h[1]=o.toASCII(r.unescapeComponent(h[1],t).toLowerCase())}catch(t){e.error=e.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}n[c]=h.join("@")}return e},serialize:function(e,t){var c=a(e.to);if(c){for(var u=0,l=c.length;u<l;++u){var f=String(c[u]),d=f.lastIndexOf("@"),p=f.slice(0,d),h=f.slice(d+1);if(p=p.replace(P,i).replace(P,n).replace(M,r.pctEncChar),void 0!==o)try{h=t.iri?o.toUnicode(h):o.toASCII(r.unescapeComponent(h,t).toLowerCase())}catch(n){e.error=e.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}else h=h.replace(P,i).toLowerCase().replace(P,n).replace(j,r.pctEncChar);c[u]=p+"@"+h}e.path=c.join(",")}var m=e.headers=e.headers||{};e.subject&&(m.subject=e.subject),e.body&&(m.body=e.body);var v=[];for(var y in m)m[y]!==s[y]&&v.push(y.replace(P,i).replace(P,n).replace(_,r.pctEncChar)+"="+m[y].replace(P,i).replace(P,n).replace(D,r.pctEncChar));return v.length&&(e.query=v.join("&")),e}}}()},{"../punycode":18,"../uri":23}],22:[function(e,t,n){if("undefined"==typeof COMPILED&&void 0===r&&"function"==typeof e)var r=e("../uri");!function(){var e=r.pctEncChar,t="(?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31})",n=new RegExp("^urn\\:("+t+")$"),o=new RegExp("^("+t+")\\:((?:(?:(?:\\%[0-9A-Fa-f]{2})|[0-9A-Za-z\\(\\)\\+\\,\\-\\.\\:\\=\\@\\;\\$\\_\\!\\*\\'\\/\\?\\#])+))$"),i=/^([^\:]+)\:(.*)/,a=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,s=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;r.SCHEMES.urn={parse:function(e,t){var n,a,s=e.path.match(o);return s||(t.tolerant||(e.error=e.error||"URN is not strictly valid."),s=e.path.match(i)),s?(n="urn:"+s[1].toLowerCase(),a=r.SCHEMES[n],a||(a=r.SCHEMES[n]={parse:function(e,t){return e},serialize:r.SCHEMES.urn.serialize}),e.scheme=n,e.path=s[2],e=a.parse(e,t)):e.error=e.error||"URN can not be parsed.",e},serialize:function(t,r){var o,i=t.scheme||r.scheme;if(i&&"urn"!==i){var o=i.match(n);o||(o=["urn:"+i,i]),t.scheme="urn",t.path=o[1]+":"+(t.path?t.path.replace(a,e):"")}return t}},r.SCHEMES["urn:uuid"]={parse:function(e,t){return t.tolerant||e.path&&e.path.match(s)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,t){return t.tolerant||e.path&&e.path.match(s)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,r.SCHEMES.urn.serialize(e,t)}}}()},{"../uri":23}],23:[function(e,t,n){/**
 * URI.js
 *
 * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @version 2.0.0
 * @see http://github.com/garycourt/uri-js
 * @license URI.js v2.0.0 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js
 */
var r=!0,o=!0,i=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var n=e.length-1,r=1;r<n;++r)e[r]=e[r].slice(1,-1);return e[n]=e[n].slice(1),e.join("")}return e[0]}function t(e){return"(?:"+e+")"}function n(n){var r=e("[0-9]","[A-Fa-f]"),i=t(t("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+t("%[89A-Fa-f]"+r+"%"+r+r)+"|"+t("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",s=e("[\\:\\/\\?\\#\\[\\]\\@]",a),c=n?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",u=n?"[\\uE000-\\uF8FF]":"[]",l=e("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",c),f=t("[A-Za-z]"+e("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),d=t(t(i+"|"+e(l,a,"[\\:]"))+"*"),p=t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("[1-9][0-9]")+"|[0-9]"),h=t(p+"\\."+p+"\\."+p+"\\."+p),m=t(r+"{1,4}"),v=(t(t(m+"\\:"+m)+"|"+h),t(e(l,a,"[\\:]")+"+")),y=t("v"+r+"+\\."+e(l,a,"[\\:]")+"+"),g=t("\\["+t(v+"|"+y)+"\\]"),b=t(t(i+"|"+e(l,a))+"*"),x=t(g+"|"+h+"(?!"+b+")|"+b),w=t("[0-9]*"),E=t(t(d+"@")+"?"+x+t("\\:"+w)+"?"),C=t(i+"|"+e(l,a,"[\\:\\@]")),$=t(C+"*"),O=t(C+"+"),k=t(t(i+"|"+e(l,a,"[\\@]"))+"+"),T=t(t("\\/"+$)+"*"),S=t("\\/"+t(O+T)+"?"),A=t(k+T),P=t(O+T),M="(?!"+C+")",j=(t(T+"|"+S+"|"+A+"|"+P+"|"+M),t(t(C+"|"+e("[\\/\\?]",u))+"*")),_=t(t(C+"|[\\/\\?]")+"*"),D=t(t("\\/\\/"+E+T)+"|"+S+"|"+P+"|"+M),I=t(f+"\\:"+D+t("\\?"+j)+"?"+t("\\#"+_)+"?"),F=t(t("\\/\\/"+E+T)+"|"+S+"|"+A+"|"+M),R=t(F+t("\\?"+j)+"?"+t("\\#"+_)+"?"),q=(t(I+"|"+R),t(f+"\\:"+D+t("\\?"+j)+"?"),"^("+f+")\\:"+t(t("\\/\\/("+t("("+d+")@")+"?("+x+")"+t("\\:("+w+")")+"?)")+"?("+T+"|"+S+"|"+P+"|"+M+")")+t("\\?("+j+")")+"?"+t("\\#("+_+")")+"?$"),U="^(){0}"+t(t("\\/\\/("+t("("+d+")@")+"?("+x+")"+t("\\:("+w+")")+"?)")+"?("+T+"|"+S+"|"+A+"|"+M+")")+t("\\?("+j+")")+"?"+t("\\#("+_+")")+"?$";t(t("\\/\\/("+t("("+d+")@")+"?("+x+")"+t("\\:("+w+")")+"?)")+"?("+T+"|"+S+"|"+P+"|"+M+")"),t("\\?("+j+")"),t("\\#("+_+")"),t("("+d+")@"),t("\\:("+w+")");return{URI_REF:o&&new RegExp("("+q+")|("+U+")"),NOT_SCHEME:new RegExp(e("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,a),"g"),NOT_HOST:new RegExp(e("[^\\%]",l,a),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,a),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,a),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,a),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,s),"g"),PCT_ENCODED:new RegExp(i,"g")}}function i(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function s(e){for(var t,n,r,o="",i=0,a=e.length;i<a;)t=parseInt(e.substr(i+1,2),16),t<128?(o+=String.fromCharCode(t),i+=3):t>=194&&t<224?(a-i>=6?(n=parseInt(e.substr(i+4,2),16),o+=String.fromCharCode((31&t)<<6|63&n)):o+=e.substr(i,6),i+=6):t>=224?(a-i>=9?(n=parseInt(e.substr(i+4,2),16),r=parseInt(e.substr(i+7,2),16),o+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&r)):o+=e.substr(i,9),i+=9):(o+=e.substr(i,3),i+=3);return o}function c(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function u(e){return e.toUpperCase()}function l(e,t){function n(e){var n=s(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,i).replace(t.PCT_ENCODED,u)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,i).replace(t.PCT_ENCODED,u)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,i).replace(t.PCT_ENCODED,u)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,i).replace(t.PCT_ENCODED,u)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,i).replace(t.PCT_ENCODED,u)),e}function f(e,t){void 0===t&&(t={});var n,i,c=r&&!1!==t.iri?E:w,u={};if("suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e),o?(n=e.match(c.URI_REF),n&&(n=n[1]?n.slice(1,10):n.slice(10,19)),n||(!0,t.tolerant||(u.error=u.error||"URI is not strictly valid."),n=e.match(C))):n=e.match(C),n){if(S?(u.scheme=n[1],u.userinfo=n[3],u.host=n[4],u.port=parseInt(n[5],10),u.path=n[6]||"",u.query=n[7],u.fragment=n[8],isNaN(u.port)&&(u.port=n[5])):(u.scheme=n[1]||void 0,u.userinfo=-1!==e.indexOf("@")?n[3]:void 0,u.host=-1!==e.indexOf("//")?n[4]:void 0,u.port=parseInt(n[5],10),u.path=n[6]||"",u.query=-1!==e.indexOf("?")?n[7]:void 0,u.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(u.port)&&(u.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),void 0!==u.scheme||void 0!==u.userinfo||void 0!==u.host||void 0!==u.port||u.path||void 0!==u.query?void 0===u.scheme?u.reference="relative":void 0===u.fragment?u.reference="absolute":u.reference="uri":u.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==u.reference&&(u.error=u.error||"URI is not a "+t.reference+" reference."),i=A[(t.scheme||u.scheme||"").toLowerCase()],!r||void 0===a||t.unicodeSupport||i&&i.unicodeSupport)l(u,c);else{if(u.host&&(t.domainHost||i&&i.domainHost))try{u.host=a.toASCII(u.host.replace(c.PCT_ENCODED,s).toLowerCase())}catch(e){u.error=u.error||"Host's domain name can not be converted to ASCII via punycode: "+e}l(u,w)}i&&i.parse&&i.parse(u,t)}else!0,u.error=u.error||"URI can not be parsed.";return u}function d(e,t){var n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(e.host),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}function p(e){for(var t,n=[];e.length;)e.match($)?e=e.replace($,""):e.match(O)?e=e.replace(O,"/"):e.match(k)?(e=e.replace(k,"/"),n.pop()):"."===e||".."===e?e="":(t=e.match(T)[0],e=e.slice(t.length),n.push(t));return n.join("")}function h(e,t){void 0===t&&(t={});var n,o,i,c=r&&t.iri?E:w,u=[];if(n=A[(t.scheme||e.scheme||"").toLowerCase()],n&&n.serialize&&n.serialize(e,t),r&&void 0!==a&&e.host&&(t.domainHost||n&&n.domainHost))try{e.host=t.iri?a.toUnicode(e.host):a.toASCII(e.host.replace(c.PCT_ENCODED,s).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}return l(e,c),"suffix"!==t.reference&&e.scheme&&(u.push(e.scheme),u.push(":")),o=d(e,t),void 0!==o&&("suffix"!==t.reference&&u.push("//"),u.push(o),e.path&&"/"!==e.path.charAt(0)&&u.push("/")),void 0!==e.path&&(i=e.path,t.absolutePath||n&&n.absolutePath||(i=p(i)),void 0===o&&(i=i.replace(/^\/\//,"/%2F")),u.push(i)),void 0!==e.query&&(u.push("?"),u.push(e.query)),void 0!==e.fragment&&(u.push("#"),u.push(e.fragment)),u.join("")}function m(e,t,n,r){void 0===n&&(n={});var o={};return r||(e=f(h(e,n),n),t=f(h(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(o.scheme=t.scheme,o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=p(t.path),o.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(o.userinfo=t.userinfo,o.host=t.host,o.port=t.port,o.path=p(t.path),o.query=t.query):(t.path?("/"===t.path.charAt(0)?o.path=p(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:o.path=t.path:o.path="/"+t.path,o.path=p(o.path)),o.query=t.query):(o.path=e.path,void 0!==t.query?o.query=t.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=t.fragment,o}function v(e,t,n){return h(m(f(e,n),f(t,n),n,!0),n)}function y(e,t){return"string"==typeof e?e=h(f(e,t),t):"object"===c(e)&&(e=f(h(e,t),t)),e}function g(e,t,n){return"string"==typeof e?e=h(f(e,n),n):"object"===c(e)&&(e=h(e,n)),"string"==typeof t?t=h(f(t,n),n):"object"===c(t)&&(t=h(t,n)),e===t}function b(e,t){return e&&e.toString().replace(r&&t&&t.iri?E.ESCAPE:w.ESCAPE,i)}function x(e,t){return e&&e.toString().replace(r&&t&&t.iri?E.PCT_ENCODED:w.PCT_ENCODED,s)}var w=n(!1),E=r?n(!0):void 0,C=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n)*))?/i,$=/^\.\.?\//,O=/^\/\.(\/|$)/,k=/^\/\.\.(\/|$)/,T=/^\/?(?:.|\n)*?(?=\/|$)/,S=void 0==="".match(/(){0}/)[1],A={};return{IRI_SUPPORT:r,VALIDATE_SUPPORT:o,pctEncChar:i,pctDecChars:s,SCHEMES:A,parse:f,_recomposeAuthority:d,removeDotSegments:p,serialize:h,resolveComponents:m,resolve:v,normalize:y,equal:g,escapeComponent:b,unescapeComponent:x}}();if(void 0!==t&&"function"==typeof e){var a=e("./punycode");t.exports=i,e("./schemes")}},{"./punycode":18,"./schemes":19}]},{},[1])(1)})},function(e,t,n){"use strict";function r(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.i(i.createDefaults)(),u=arguments[3],l=arguments[4],f=arguments[5],d=arguments[6],p=[],h=[];t=t||[];var m=t.indexOf("*");l=l||{};var v={},y=t.indexOf("...");if("object"===(void 0===e?"undefined":s(e))&&e.hasOwnProperty("properties")){f=f||e.readonly||e.readOnly,v=n.i(i.defaultForm)(e,c,u,l);var g=v.lookup;e=g||e,p=p.concat(v.form)}return-1!==m&&(t=t.slice(0,m).concat(p).concat(t.slice(m+1))),v.form&&-1!==y&&function(){var e=t.map(function(e){return"string"==typeof e?e:e.key?e.key:void 0}).filter(function(e){return void 0!==e});h=h.concat(v.form.map(function(t){if(-1===e.indexOf(t.key[0]))return t}).filter(function(e){return void 0!==e}))}(),-1!==y&&(t=t.slice(0,y).concat(h).concat(t.slice(y+1))),t.map(function(t){if("string"==typeof t&&(t={key:t}),t.key&&"string"==typeof t.key&&(t.key=n.i(o.parse)(t.key)),t.titleMap&&(t.titleMap=n.i(a.a)(t.titleMap)),t.key){var i=n.i(o.stringify)(t.key);e[i]&&function(){var n=e[i];n&&Object.keys(n).forEach(function(e){void 0===t[e]&&(t[e]=n[e])})}()}return!0===f&&(t.readonly=!0),t.items&&(t.items=r(e,t.items,c,u,l,t.readonly,d)),t.tabs&&t.tabs.forEach(function(n){n.items&&(n.items=r(e,n.items,c,u,l,t.readonly,d))}),"checkbox"===t.type&&(void 0===t.schema?t.schema={default:!1}:void 0===t.schema.default&&(t.schema.default=!1)),d&&"template"===t.type&&!t.template&&t.templateUrl&&d.push(t),t})}var o=n(0),i=n(3),a=n(1);t.a=r;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,n){"use strict";function r(e,t){var n=new Promise(function(t,n){o.resolveRefs(e,{filter:["relative","local","remote"]}).then(function(e){t(e.resolved)}).catch(function(e){n(new Error(e))})});if("function"!=typeof t)return n;n.then(function(e){t(null,e)}).catch(function(e){t(e)})}var o=n(5);n.n(o);t.a=r},function(e,t,n){"use strict";function r(e,t,n){t||(t=this);var r="string"==typeof e?o.parse(e):e;if(void 0!==n&&1===r.length)return t[r[0]]=n,t;void 0!==n&&void 0===t[r[0]]&&(t[r[0]]=r.length>2&&i.test(r[1])?[]:{});for(var a=t[r[0]],s=1;s<r.length;s++){if(""===r[s])return;if(void 0!==n){if(s===r.length-1)return a[r[s]]=n,n;var c=a[r[s]];void 0!==c&&null!==c||(c=i.test(r[s+1])?[]:{},a[r[s]]=c),a=c}else a&&(a=a[r[s]])}return a}var o=n(0);t.a=r;var i=/^\d+$/},function(e,t,n){"use strict";function r(e,t,n,r){r=void 0===r||r,n=n||[];!function e(t,n,o){if(n(t,o),t.properties&&Object.keys(t.properties).forEach(function(r){var i=o.slice();i.push(r),e(t.properties[r],n,i)}),!r&&t.items){var i=o.slice();i.push(""),e(t.items,n,i)}}(e,t,n||[])}function o(e,t){t(e),e.items&&e.items.forEach(function(e){o(e,t)}),e.tabs&&e.tabs.forEach(function(e){e.items&&e.items.forEach(function(e){o(e,t)})})}t.a=r,t.b=o},function(e,t,n){"use strict";function r(e,t){if(!e)return{valid:!0};var n=e.schema;if(!n)return{valid:!0};""===t&&(t=void 0),"number"===e.type&&null===t&&(t=void 0);var r={type:"object",properties:{},required:void 0},o=e.key[e.key.length-1];r.properties[o]=n,e.required&&(r.required=[o]);var a={};return void 0!==t&&(a[o]=t),i.a.validateResult(a,r)}var o=n(12),i=n.n(o);t.a=r},function(e,t,n){"use strict";var r;!function(o){var i={parse:function(e){if("string"!=typeof e)throw new TypeError("ObjectPath.parse must be passed a string");for(var t,n,r,o,i=0,a=[];i<e.length;)if(t=e.indexOf(".",i),n=e.indexOf("[",i),-1===t&&-1===n)a.push(e.slice(i,e.length)),i=e.length;else if(-1===n||-1!==t&&t<n)a.push(e.slice(i,t)),i=t+1;else if(n>i&&(a.push(e.slice(i,n)),i=n),'"'!==(r=e.slice(n+1,n+2))&&"'"!==r)o=e.indexOf("]",n),-1===o&&(o=e.length),a.push(e.slice(i+1,o)),i="."===e.slice(o+1,o+2)?o+2:o+1;else{for(o=e.indexOf(r+"]",n),-1===o&&(o=e.length);"\\"===e.slice(o-1,o)&&n<e.length;)n++,o=e.indexOf(r+"]",n);a.push(e.slice(i+2,o).replace(new RegExp("\\"+r,"g"),r)),i="."===e.slice(o+2,o+3)?o+3:o+2}return a},stringify:function(e,t){return Array.isArray(e)||(e=[e.toString()]),t='"'===t?'"':"'",e.map(function(e){return"["+t+e.toString().replace(new RegExp(t,"g"),"\\"+t)+t+"]"}).join("")},normalize:function(e,t){return i.stringify(Array.isArray(e)?e:i.parse(e),t)},registerModule:function(e){e.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=i.parse,this.stringify=i.stringify,this.normalize=i.normalize,this.$get=function(){return i}})}};void 0!==(r=function(){return{ObjectPath:i}}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t){e.exports=tv4},function(e,t,n){e.exports=n(4)}])}).call(t,n(2),n(19).setImmediate)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=(n.n(r),n(0)),i=n.n(o),a=n(14),s=n(12),c=n(13),u=n(15),l=n(16),f=n(7),d=n(8),p=n(10),h=n(6),m=n(9),v=n(11),y=n(5),g=[];try{i.a.module("ngSanitize"),g.push("ngSanitize")}catch(e){}try{i.a.module("ui.sortable"),g.push("ui.sortable")}catch(e){}try{i.a.module("angularSpectrumColorpicker"),g.push("angularSpectrumColorpicker")}catch(e){}i.a.module("schemaForm",g).provider("sfPath",l.a).provider("sfBuilder",["sfPathProvider",a.a]).provider("schemaFormDecorators",["$compileProvider","sfPathProvider",s.a]).provider("sfErrorMessage",u.a).provider("schemaForm",["sfPathProvider",c.a]).factory("sfSelect",function(){return r.select}).factory("sfValidator",function(){return r.validate}).directive("sfChanged",f.a).directive("sfField",["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",d.a]).directive("sfMessage",["$injector","sfErrorMessage",p.a]).directive("sfNewArray",["sfSelect","sfPath","schemaForm",h.a]).directive("sfSchema",["$compile","$http","$templateCache","$q","schemaForm","schemaFormDecorators","sfSelect","sfPath","sfBuilder",v.a]).directive("schemaValidate",["sfValidator","$parse","sfSelect",y.a]).directive("sfKeyController",["schemaForm","sfPath",m.a])},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(e,t,n){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(t,r,i,a){t.$emit("schemaFormPropagateNgModelController",a);var s=null,c=t.$eval(i.schemaValidate);c.copyValueTo&&a.$viewChangeListeners.push(function(){var e=c.copyValueTo;o.a.forEach(e,function(e){n(e,t.model,a.$modelValue)})});var u=function(n,r){if(!c)return n;if(t.options&&!1===t.options.tv4Validation)return n;var o=e(c,n);Object.keys(a.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){a.$setValidity(e,!0)});{if(o.valid||a.$pristine&&!r)return n;if(a.$setValidity("tv4-"+o.error.code,!1),s=o.error,a.$validators)return n}};"function"==typeof c.ngModel&&c.ngModel(a),["$parsers","$viewChangeListeners","$formatters"].forEach(function(e){c[e]&&a[e]&&c[e].forEach(function(t){a[e].push(t)})}),["$validators","$asyncValidators"].forEach(function(e){c[e]&&a[e]&&o.a.forEach(c[e],function(n,r){a[e][r]=function(e,r){return n(e,r,t.model,c)}})}),a.$parsers.push(u),a.$validators&&(a.$validators.schemaForm=function(){return!Object.keys(a.$error).some(function(e){return"schemaForm"!==e})});var l=c.schema;t.validateField=function(e,t){var n=void 0===e;(n||a.$$parentForm.$name===e)&&((n||l&&-1!==l.type.indexOf("array"))&&u(a.$modelValue,t),a.$setDirty?(a.$setDirty(),a.$setViewValue(a.$viewValue),a.$commitViewValue(),"checkbox"===c.type?c.required&&void 0===a.$modelValue&&a.$setValidity("tv4-302",!1):c.required&&a.$isEmpty(a.$modelValue)&&a.$setValidity("tv4-302",!1)):a.$setViewValue(a.$viewValue))};var f=!0;a.$formatters.push(function(e){return!a.$pristine||!f||t.options&&!0===t.options.validateOnRender?(u(a.$modelValue),e):(f=!1,e)}),t.$on("schemaFormValidate",function(e,n){t.validateField(n,!0)}),t.schemaError=function(){return s}}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t,n){return{scope:!0,controller:["$scope",function(e){this.key=e.form&&e.form.key?e.form.key.splice(0,-2):[]}],link:function(r,a,s){r.min=0,r.trackBy=function(e,t){return e&&"object"===(void 0===e?"undefined":i(e))?e:t},r.modelArray=r.$eval(s.sfNewArray);var c=function(){r.modelArray=r.$eval(s.sfNewArray),r.ngModel&&r.ngModel.$pristine&&r.firstDigest&&(!r.options||!0!==r.options.validateOnRender)||r.validateField&&r.validateField()},u=function(){r.form&&r.form.onChange&&(o.a.isFunction(r.form.onChange)?r.form.onChange(r.modelArray,r.form):r.evalExpr(r.form.onChange,{modelValue:r.modelArray,form:r.form}))},l=function(){var n=r.modelArray;if(!n){var o=t.parse(s.sfNewArray);n=[],e(o,r,n),r.modelArray=n}return n},f=r.$watch("form",function(e){if(e){if(e.titleMap||!0===e.startEmpty||r.modelArray&&0!==r.modelArray.length||r.appendToArray(),r.$watch(function(e){return JSON.stringify(e.modelArray)},function(){c(),u()}),e.titleMap&&e.titleMap.length>0){r.titleMapValues=[];var t=function(t){r.titleMapValues=[],t=t||[],e.titleMap.forEach(function(e){r.titleMapValues.push(-1!==t.indexOf(e.value))})};t(r.modelArray),r.$watchCollection("modelArray",t),r.$watchCollection("titleMapValues",function(t,n){if(t&&t!==n){var o=l();e.titleMap.forEach(function(e,n){var r=o.indexOf(e.value);-1===r&&t[n]&&o.push(e.value),-1===r||t[n]||o.splice(r,1)}),r.validateField&&r.validateField()}})}f()}});r.appendToArray=function(){var t,i=l();if(r.form&&r.form.schema&&r.form.schema.items){var a=r.form.schema.items;a.type&&-1!==a.type.indexOf("object")?(t={},r.options&&!1===r.options.setSchemaDefaults||(t=o.a.isDefined(a.default)?a.default:t)&&n.traverseSchema(a,function(n,r){o.a.isDefined(n.default)&&e(r,t,n.default)})):(a.type&&(-1!==a.type.indexOf("array")?t=[]:-1===a.type.indexOf("string")&&-1===a.type.indexOf("number")||(t="")),r.options&&!1===r.options.setSchemaDefaults||(t=a.default||t))}return i.push(t),i},r.deleteFromArray=function(e){var t=r.modelArray.indexOf(e),n=r.modelArray;return n&&n.splice(t,1),e.$$hashKey&&(r.destroyed=e.$$hashKey),n};var d=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}},p={};r.copyWithIndex=function(e){var t=r.form;if(!p[e]){var i=t.items[0];if(t.items.length>1&&(i={type:"section",items:t.items.map(function(e){return e.ngModelOptions=t.ngModelOptions,o.a.isUndefined(e.readonly)&&(e.readonly=t.readonly),e})}),i){var a=o.a.copy(i);a.arrayIndex=e,n.traverseForm(a,d(e)),p[e]=a}}return p[e]}}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(e,t,n,r){var i=e.$eval(n.sfChanged);i&&i.onChange&&r.$viewChangeListeners.push(function(){o.a.isFunction(i.onChange)?i.onChange(r.$modelValue,i):e.evalExpr(i.onChange,{modelValue:r.$modelValue,form:i,arrayIndex:e.$index,arrayIndices:e.arrayIndices,path:e.path,$i:e.$i,$index:e.$index})})}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t,n,r,a,s,c,u,l){var f={COMPLETE:"*",PATH:"string",INDICES:"number"};return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:["^sfSchema","?^form","?^^sfKeyController"],link:{pre:function(e,t,n,r){var o=r[0];r[1],r[2];e.$on("schemaFormPropagateNgModelController",function(t,n){t.stopPropagation(),t.preventDefault(),e.ngModel=n}),e.initialForm=Object.assign({},o.lookup["f"+n.sfField]),e.form=o.lookup["f"+n.sfField]},post:function(e,t,n,r){var s=r[0],d=r[1];r[2];e.getKey=function(t){var n=t||f.COMPLETE,r=e.parentKey?e.parentKey.slice(0,e.parentKey.length-1):[];if(e.completeKey!==e.form.key&&("number"==typeof e.$index&&(r=r.concat(e.$index)),e.form.key&&e.form.key.length))if("number"==typeof r[r.length-1]&&e.form.key.length>=1){var o=e.form.key.length-r.length;e.completeKey=r.concat(e.form.key.slice(-o))}else e.completeKey=e.form.key.slice();if(Array.isArray(e.completeKey))return n===f.COMPLETE?e.completeKey:e.completeKey.reduce(function(e,t,r){return-1!==[n].indexOf(void 0===t?"undefined":i(t))?e.concat(t):e},[])},e.form.key&&(e.form.key=e.completeKey=e.getKey()),e.showTitle=function(){return e.form&&!0!==e.form.notitle&&e.form.title},e.fieldId=function(t,n){var r=n||!1,o=t&&d&&d.$name?d.$name:void 0,i=e.completeKey;return Array.isArray(i)?u.name(i,"-",o,r):""},e.listToCheckboxValues=function(e){var t={};return o.a.forEach(e,function(e){t[e]=!0}),t},e.checkboxValuesToList=function(e){var t=[];return o.a.forEach(e,function(e,n){e&&t.push(n)}),t},e.buttonClick=function(t,n){o.a.isFunction(n.onClick)?n.onClick(t,n):o.a.isString(n.onClick)&&(s?s.evalInParentScope(n.onClick,{$event:t,form:n}):e.$eval(n.onClick,{$event:t,form:n}))},e.evalExpr=function(t,n){return s?s.evalInParentScope(t,n):e.$eval(t,n)},e.evalInScope=function(t,n){if(t)return e.$eval(t,n)},e.interp=function(e,t){return e&&a(e)(t)},e.hasSuccess=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&!1===e.options.pristine.success?e.ngModel.$valid&&!e.ngModel.$pristine&&!e.ngModel.$isEmpty(e.ngModel.$modelValue):e.ngModel.$valid&&(!e.ngModel.$pristine||!e.ngModel.$isEmpty(e.ngModel.$modelValue)))},e.hasError=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&!1===e.options.pristine.errors?e.ngModel.$invalid&&!e.ngModel.$pristine:e.ngModel.$invalid)},e.errorMessage=function(t){return c.interpolate(t&&t.code+""||"default",e.ngModel&&e.ngModel.$modelValue||"",e.ngModel&&e.ngModel.$viewValue||"",e.form,e.options&&e.options.validationMessage)},e.form.htmlClass=e.form.htmlClass||"",e.idClass=e.fieldId(!1)+" "+e.fieldId(!1,!0);var p=e.form;p.key&&(e.$on("schemaForm.error."+p.key.join("."),function(t,n,r,o,i){i=o,!0!==r&&!1!==r||(o=r,r=void 0),void 0!=i&&e.ngModel.$$parentForm.$name!==i||e.ngModel&&n&&(e.ngModel.$setDirty?e.ngModel.$setDirty():(e.ngModel.$dirty=!0,e.ngModel.$pristine=!1),r&&(p.validationMessage||(p.validationMessage={}),p.validationMessage[n]=r),e.ngModel.$setValidity(n,!0===o),!0===o&&(e.ngModel.$validate(),e.$broadcast("schemaFormValidate")))}),e.$on("$destroy",function(){var t=e.getKey();"number"==typeof e.arrayIndex&&e.arrayIndex;if(!e.externalDestructionInProgress){var n=p.destroyStrategy||e.options&&e.options.destroyStrategy||"remove";if(t&&"retain"!==n){var r=e.model;if(t.length>1&&(r=l(t.slice(0,t.length-1),r)),r&&e.destroyed&&r.$$hashKey&&r.$$hashKey!==e.destroyed)return;if(void 0===r)return;var o=p.schema&&p.schema.type||"";"empty"===n&&-1!==o.indexOf("string")?r[t.slice(-1)]="":"empty"===n&&-1!==o.indexOf("object")?r[t.slice(-1)]={}:"empty"===n&&-1!==o.indexOf("array")?r[t.slice(-1)]=[]:"null"===n?r[t.slice(-1)]=null:delete r[t.slice(-1)]}}}))}}}}},function(e,t,n){"use strict";t.a=function(e,t){return{scope:!0,require:["?^^sfNewArray"],link:{pre:function(e,n,r,o){e.parentKey=e.parentKey||[];var i=t.parse(r.sfParentKey),a=i.length-e.parentKey.length;i.length>1&&(i=i.splice(-a)),e.parentKey=e.parentKey.concat(i,Number(r.sfIndex)),e.arrayIndex=Number(r.sfIndex),e.arrayIndices=e.arrayIndices||[],e.arrayIndices=e.arrayIndices.concat(e.arrayIndex),e.$i=e.arrayIndices,e.path=function(t){var n=-1;return t=t.replace(/\[\]/gi,function(t){return n++,"["+e.$i[n]+"]"}),e.evalExpr(t,e)}}}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(e,t){var n=e.has("$sanitize")?e.get("$sanitize"):function(e){return e};return{scope:!1,restrict:"EA",link:function(e,r,i){var a="";i.sfMessage&&e.$watch(i.sfMessage,function(t){t&&(a=n(t),u(!!e.ngModel))});var s,c=function(e){e!==s&&(r.html(e),s=e)},u=function(n){if(n)if(e.hasError()){var r=[];o.a.forEach(e.ngModel&&e.ngModel.$error,function(e,t){e&&r.push(t)}),r=r.filter(function(e){return"schemaForm"!==e});var i=r[0];c(i?t.interpolate(i,e.ngModel.$modelValue,e.ngModel.$viewValue,e.form,e.options&&e.options.validationMessage):a)}else c(a);else c(a)};u();var l=e.$watch("ngModel",function(e){e&&(e.$parsers.push(function(e){return u(!0),e}),e.$formatters.push(function(e){return u(!0),e}),l())});e.$watchCollection("ngModel.$error",function(){u(!!e.ngModel)})}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(e,t,n,r,i,a,s,c,u){return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(e){this.$onInit=function(){this.evalInParentScope=function(t,n){return e.$parent.$eval(t,n)};var t=this;e.lookup=function(e){return e&&(t.lookup=e),t.lookup}},1===o.a.version.major&&o.a.version.minor<5&&this.$onInit()}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(c,l,f,d,p){c.formCtrl=d;var h={};p(c,function(e){if(e.addClass("schema-form-ignore"),l.prepend(e),l[0].querySelectorAll){var t=l[0].querySelectorAll("[ng-model]");if(t)for(var n=0;n<t.length;n++){var r=t[n].getAttribute("ng-model");h[r.substring(r.indexOf(".")+1)]=!0}}});var m,v={};c.resolveReferences=function(e,t){i.jsonref(e).then(function(e){c.render(e,t)}).catch(function(e){new Error(e)})},c.render=function(e,o){var a=[],s=i.merge(e,o,void 0,h,c.options,void 0,a);a.length>0?r.all(a.map(function(e){return t.get(e.templateUrl,{cache:n}).then(function(t){e.template=t.data})})).then(function(){c.internalRender(e,o,s)}):c.internalRender(e,o,s)},c.internalRender=function(t,n,r){m&&(c.externalDestructionInProgress=!0,m.$destroy(),c.externalDestructionInProgress=!1),m=c.$new(),m.schemaForm={form:r,schema:t},Array.prototype.forEach.call(l.children(),function(e){var t=o.a.element(e);!1===t.hasClass("schema-form-ignore")&&t.remove()});for(var d={},p=l[0].querySelectorAll("*[sf-insert-field]"),h=0;h<p.length;h++)d[p[h].getAttribute("sf-insert-field")]=p[h];var v=a.decorator(f.sfUseDecorator),y=Object.create(null);c.lookup(y),l[0].appendChild(u.build(r,v,d,y)),m.firstDigest=!0,setTimeout(function(){m.firstDigest=!1,c.$apply()},0),e(l.children())(m),c.options&&!1===c.options.setSchemaDefaults||i.traverseSchema(t,function(e,t){if(o.a.isDefined(e.default)){var n=s(t,c.model);o.a.isUndefined(n)&&s(t,c.model,e.default)}}),c.$emit("sf-render-finished",l)};var y=["*"];c.$watch(function(){var e=c.schema,t=c.initialForm||y;t&&e&&e.type&&(v.form!==t||v.schema!==e)&&((!e.properties||0===Object.keys(e.properties).length)&&(t.indexOf("*")||t.indexOf("...")),v.schema=e,v.form=t,c.resolveReferences(e,t))}),c.$on("schemaFormRedraw",function(){var e=c.schema,t=c.initialForm?o.a.copy(c.initialForm):["*"];e&&c.resolveReferences(e,t)}),c.$on("$destroy",function(){c.externalDestructionInProgress=!0}),c.evalExpr=function(e,t){return c.$parent.$eval(e,t)}}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(e,t){var n="",r={},i=function(e,t){"sfDecorator"===e&&(e=n);var o=r[e];return o[t.type]?o[t.type].template:o.default.template},a=function(n){e.directive(n,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(e,r,a,s,c,u,l,f,d){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:["?^sfSchema","?^form"],link:function(e,p,h,m){var v=m[0],y=m[1];e.$on("schemaFormPropagateNgModelController",function(t,n){t.stopPropagation(),t.preventDefault(),e.ngModel=n}),e.showTitle=function(){return e.form&&!0!==e.form.notitle&&e.form.title},e.fieldId=function(t,n){var r=e.parentKey||[];if(e.form.key){if("number"==typeof r[r.length-1]){var o=r.concat(e.form.key.slice(-1)),i=t&&y&&y.$name?y.$name:void 0;return f.name(o,"-",i,n)}var i=t&&y&&y.$name?y.$name:void 0;return f.name(e.form.key,"-",i,n)}return""},e.listToCheckboxValues=function(e){var t={};return o.a.forEach(e,function(e){t[e]=!0}),t},e.checkboxValuesToList=function(e){var t=[];return o.a.forEach(e,function(e,n){e&&t.push(n)}),t},e.buttonClick=function(t,n){o.a.isFunction(n.onClick)?n.onClick(t,n):o.a.isString(n.onClick)&&(v?v.evalInParentScope(n.onClick,{$event:t,form:n}):e.$eval(n.onClick,{$event:t,form:n}))},e.evalExpr=function(t,n){return v?v.evalInParentScope(t,n):e.$eval(t,n)},e.evalInScope=function(t,n){if(t)return e.$eval(t,n)},e.interp=function(e,t){return e&&c(e)(t)},e.hasSuccess=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&!1===e.options.pristine.success?e.ngModel.$valid&&!e.ngModel.$pristine&&!e.ngModel.$isEmpty(e.ngModel.$modelValue):e.ngModel.$valid&&(!e.ngModel.$pristine||!e.ngModel.$isEmpty(e.ngModel.$modelValue)))},e.hasError=function(){return!!e.ngModel&&(e.ngModel.$invalid&&!e.ngModel.$pristine)},e.errorMessage=function(t){return l.interpolate(t&&t.code+""||"default",e.ngModel&&e.ngModel.$modelValue||"",e.ngModel&&e.ngModel.$viewValue||"",e.form,e.options&&e.options.validationMessage)};var g=e.$watch(h.form,function(c){if(c){c.ngModelOptions=c.ngModelOptions||{},e.form=c;var l;if("template"===c.type&&c.template)l=u.when(c.template);else{var h="template"===c.type?c.templateUrl:i(n,c);l=a.get(h,{cache:s}).then(function(e){return e.data})}l.then(function(n){if(c.key){var i=c.key?t.stringify(c.key).replace(/"/g,"&quot;"):"";n=n.replace(/\$\$value\$\$/g,"model"+("["!==i[0]?".":"")+i)}if(p.html(n),c.condition){var a='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';c.key&&(a='evalExpr(form.condition, {model: model, "arrayIndex": arrayIndex, "modelValue": model'+f.stringify(c.key)+"})"),o.a.forEach(p.children(),function(e){var t=e.getAttribute("ng-if");e.setAttribute("ng-if",t?"("+t+") || ("+a+")":a)})}r(p.contents())(e)}),c.key&&(e.$on("schemaForm.error."+c.key.join("."),function(t,n,r,o,i){i=o,!0!==r&&!1!==r||(o=r,r=void 0),void 0!=i&&e.ngModel.$$parentForm.$name!==i||void 0!=i&&e.ngModel.$$parentForm.$name!==i||e.ngModel&&n&&(e.ngModel.$setDirty?e.ngModel.$setDirty():(e.ngModel.$dirty=!0,e.ngModel.$pristine=!1),r&&(c.validationMessage||(c.validationMessage={}),c.validationMessage[n]=r),e.ngModel.$setValidity(n,!0===o),!0===o&&(e.ngModel.$validate(),e.$broadcast("schemaFormValidate")))}),e.$on("$destroy",function(){if(!e.externalDestructionInProgress){var t=c.destroyStrategy||e.options&&e.options.destroyStrategy||"remove";if(c.key&&"retain"!==t){var n=e.model;if(c.key.length>1&&(n=d(c.key.slice(0,c.key.length-1),n)),void 0===n)return;var r=c.schema&&c.schema.type||"";"empty"===t&&-1!==r.indexOf("string")?n[c.key.slice(-1)]="":"empty"===t&&-1!==r.indexOf("object")?n[c.key.slice(-1)]={}:"empty"===t&&-1!==r.indexOf("array")?n[c.key.slice(-1)]=[]:"null"===t?n[c.key.slice(-1)]=null:delete n[c.key.slice(-1)]}}})),g()}})}}}])},s=function(t,n,r){r=!!o.a.isDefined(r)&&r,e.directive("sf"+o.a.uppercase(t[0])+t.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:r,template:'<sf-decorator form="form"></sf-decorator>',link:function(e,n,r){var i={items:"c",titleMap:"c",schema:"c"},a={type:t},s=!0;o.a.forEach(r,function(t,n){if("$"!==n[0]&&0!==n.indexOf("ng")&&"sfField"!==n){var c=function(t){o.a.isDefined(t)&&t!==a[n]&&(a[n]=t,s&&a.type&&(a.key||o.a.isUndefined(r.key))&&(e.form=a,s=!1))};"model"===n?e.$watch(t,function(t){t&&e.model!==t&&(e.model=t)}):"c"===i[n]?e.$watchCollection(t,c):r.$observe(n,c)}})}}})};this.createDecorator=function(e,t){r[e]={__name:e},o.a.forEach(t,function(t,n){r[e][n]={template:t,replace:!1,builder:[]}}),r[n]||(n=e),a(e)},this.defineDecorator=function(e,t){r[e]={__name:e},o.a.forEach(t,function(t,n){t.builder=t.builder||[],t.replace=!o.a.isDefined(t.replace)||t.replace,r[e][n]=t}),r[n]||(n=e),a(e)},this.createDirective=s,this.createDirectives=function(e){o.a.forEach(e,function(e,t){s(t)})},this.decorator=function(e){return e=e||n,r[e]},this.addMapping=function(e,t,n,o,i){r[e]&&(r[e][t]={template:n,builder:o,replace:!!i})},this.defineAddOn=function(e,t,n,o){r[e]&&(r[e][t]={template:n,builder:o,replace:!0})},this.$get=function(){return{decorator:function(e){return r[e]||r[n]},defaultDecorator:n}},a("sfDecorator")}},function(e,t,n){"use strict";var r=n(0),o=(n.n(r),n(1));n.n(o);t.a=function(){var e=function(e){return e},t=o.schemaDefaults.createDefaults();this.defaults=t,this.stdFormObj=o.schemaDefaults.stdFormObj,this.defaultFormDefinition=o.schemaDefaults.defaultFormDefinition,this.postProcess=function(t){e=t},this.appendRule=function(e,t){this.defaults[e]||(this.defaults[e]=[]),this.defaults[e].push(t)},this.prependRule=function(e,t){this.defaults[e]||(this.defaults[e]=[]),this.defaults[e].unshift(t)},this.createStandardForm=o.schemaDefaults.stdFormObj,this.$get=function(){var t={},r=this.defaults;return t.jsonref=o.jsonref,t.defaults=function(e,t,n,i){var a=t||r;return o.schemaDefaults.defaultForm(e,a,n,i)},t.merge=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.typeDefault,s=arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments[6],f=n.i(o.merge)(r,i,a,s,c,u,l);return e(f)},t.typeDefault=r,t.traverseSchema=o.traverseSchema,t.traverseForm=o.traverseForm,t}}},function(e,t,n){"use strict";t.a=function(e){var t=/[A-Z]/g,n=function(e,n){return n=n||"_",e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})},r=0;"firstElementChild"in document.createDocumentFragment()||Object.defineProperty(DocumentFragment.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,n=0,r=t.length;n<r;++n)if(e=t[n],1===e.nodeType)return e;return null}});var o={sfField:function(e){e.fieldFrag.firstElementChild.setAttribute("sf-field",r),e.lookup["f"+r]=e.form,r++},ngModel:function(t){if(t.form.key){var n=t.form.key;t.state.keyRedaction&&(n=n.slice(t.state.keyRedaction));var r;if(t.state.modelValue)r=t.state.modelValue;else{var o=e.stringify(n).replace(/"/g,"&quot;");r=t.state.modelName||"model",o&&(r+=("["!==o[0]?".":"")+o)}for(var i=t.fieldFrag.querySelectorAll("[sf-field-model]"),a=0;a<i.length;a++){var s=i[a],c=s.getAttribute("sf-field-model");if(c&&""!==c)if("replaceAll"===c)for(var u=s.attributes,l=0;l<u.length;l++)u[l].value&&-1!==u[l].value.indexOf("$$value")&&(u[l].value=u[l].value.replace(/\$\$value\$\$/g,r));else{var f=s.getAttribute(c);f&&f.indexOf("$$value$$")?s.setAttribute(c,f.replace(/\$\$value\$\$/g,r)):s.setAttribute(c,r)}else s.setAttribute("ng-model",r)}}},simpleTransclusion:function(e){var t=e.build(e.form.items,e.path+".items",e.state);e.fieldFrag.firstChild.appendChild(t)},ngModelOptions:function(e){e.form.ngModelOptions&&Object.keys(e.form.ngModelOptions).length>0&&e.fieldFrag.firstChild.setAttribute("ng-model-options",JSON.stringify(e.form.ngModelOptions))},transclusion:function(e){var t=e.fieldFrag.querySelectorAll("[sf-field-transclude]");if(t.length)for(var n=0;n<t.length;n++){var r=t[n],o=r.getAttribute("sf-field-transclude")||"items",i=e.form[o];if(i){var a=e.build(i,e.path+"."+o,e.state);r.appendChild(a)}}},condition:function(t){var n="",r="undefined",o="";if(t.form.condition){t.form.key&&(n=e.stringify(t.form.key),r="model"+("["===n[0]?"":".")+n);for(var i="evalExpr("+t.path+'.condition, { model: model, "arrayIndex": $index, "arrayIndices": arrayIndices, "path": path, "$i": $i, "$index": $index, "modelValue": '+r+"})",a=t.fieldFrag.children||t.fieldFrag.childNodes,s=0;s<a.length;s++){var c=a[s];c.hasAttribute&&c.hasAttribute("ng-if")&&(o=c.getAttribute("ng-if")),c.setAttribute&&c.setAttribute("ng-if",o?"("+o+") || ("+i+")":i)}}},array:function(t){var n=t.fieldFrag.querySelector("[schema-form-array-items]");if(t.form.key){t.form.key.filter(function(e){return""===e}).length}if(n){var r=angular.copy(t.state);if(r.keyRedaction=0,r.keyRedaction+=t.form.key.length+1,t.form.schema&&t.form.schema.items&&t.form.schema.items.type&&-1===t.form.schema.items.type.indexOf("object")&&-1===t.form.schema.items.type.indexOf("array")){e.stringify(t.form.key).replace(/"/g,"&quot;");r.modelValue="modelArray[$index]"}else r.modelName="item";r.arrayCompatFlag=!0;var o=t.build(t.form.items,t.path+".items",r);n.appendChild(o)}},numeric:function(e){var t=e.fieldFrag.querySelector("input"),n=e.form.maximum||!1,r=e.form.exclusiveMaximum||!1,o=e.form.minimum||!1,i=e.form.exclusiveMinimum||!1,a=e.form.multipleOf||!1;t&&(!1!==a&&t.setAttribute("step",a),!1!==n&&(!1!==r&&!1!==a&&(n-=a),t.setAttribute("max",n)),!1!==o&&(!1!==i&&!1!==a&&(o+=a),t.setAttribute("min",o)))}};this.builders=o;var i=[o.sfField,o.ngModel,o.ngModelOptions,o.condition];this.stdBuilders=i,this.$get=["$templateCache","schemaFormDecorators","sfPath",function(e,t,r){var a=function(e,t){if(e.key){var n=t[r.stringify(e.key)];if(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}}},s=function e(t,r,o,i,s,c,u){c=c||{},c=c||{},u=u||Object.create(null),s=s||"schemaForm.form";var l=document.createDocumentFragment();return t.reduce(function(t,l,f){if(!l.type)return t;var d=r[l.type]||r.default;if(d.replace){var p;c.arrayCompatFlag=!1;var h=document.createElement("div"),m=o(l,d)||o(l,r.default);for(h.innerHTML=m,p=document.createDocumentFragment();h.childNodes.length>0;)p.appendChild(h.childNodes[0]);var v={fieldFrag:p,form:l,lookup:u,state:c,path:s+"["+f+"]",build:function(t,n,a){return e(t,r,o,i,n,a,u)}},y=l.builder||d.builder;"function"==typeof y?y(v):y.forEach(function(e){e(v)}),(a(l,i)||t).appendChild(p)}else{var g=document.createElement(n(r.__name,"-"));c.arrayCompatFlag?g.setAttribute("form","copyWithIndex($index)"):g.setAttribute("form",s+"["+f+"]"),(a(l,i)||t).appendChild(g)}return t},l),l};return{build:function(t,n,r,o){return s(t,n,function(t,n){return"template"===t.type?t.template:e.get(n.template)},r,void 0,void 0,o)},builder:o,stdBuilders:i,internalBuild:s}}]}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=function(){var e={default:"Field does not validate",0:"Invalid type, expected {{schema.type}}",1:"No enum match for: {{viewValue}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value is not a multiple of {{schema.multipleOf}}",101:"{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",102:"{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",103:"{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",104:"{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",105:"Value is not a valid number",200:"String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",201:"String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minProperties}}",301:"Too many properties defined, maximum {{schema.maxProperties}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minItems}}",401:"Array is too long ({{value.length}}), maximum {{schema.maxItems}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};e.number=e[105],e.required=e[302],e.min=e[101],e.max=e[103],e.maxlength=e[201],e.minlength=e[200],e.pattern=e[202],this.setDefaultMessages=function(t){e=t},this.getDefaultMessages=function(){return e},this.setDefaultMessage=function(t,n){e[t]=n},this.$get=["$interpolate",function(t){var n={};return n.defaultMessages=e,n.interpolate=function(n,r,i,a,s){s=s||{};var c=a.validationMessage||{};0===n.indexOf("tv4-")&&(n=n.substring(4));var u=c.default||s.default||"";[c,s,e].some(function(e){return o.a.isString(e)||o.a.isFunction(e)?(u=e,!0):e&&e[n]?(u=e[n],!0):void 0});var l={error:n,value:r,viewValue:i,form:a,schema:a.schema,title:a.title||a.schema&&a.schema.title};return o.a.isFunction(u)?u(l):t(u)(l)},n}]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(1),i=(n.n(o),n(0)),a=(n.n(i),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),s=function(){function e(){r(this,e),this.name=o.sfPath.name,this.parse=o.sfPath.parse,this.stringify=o.sfPath.stringify,this.normalize=o.sfPath.normalize}return a(e,[{key:"$get",value:function(){return o.sfPath}}]),e}();t.a=s},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):v=-1,h.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,m=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,s(c),c++}function o(e){delete u[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=u[e];if(t){l=!0;try{i(t)}finally{o(e),l=!1}}}}if(!e.setImmediate){var s,c=1,u={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(2),n(17))},function(n,r,o){function i(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;r.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(18),r.setImmediate=e,r.clearImmediate=t},,function(e,t,n){n(1),e.exports=n(4)}])}).call(t,n(12).setImmediate,n(12).clearImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):v=-1,h.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++v<t;)p&&p[v].run();v=-1,t=h.length}p=null,m=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new c(e,t)),1!==h.length||m||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,s(c),c++}function o(e){delete u[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(l)setTimeout(a,0,e);else{var t=u[e];if(t){l=!0;try{i(t)}finally{o(e),l=!1}}}}if(!e.setImmediate){var s,c=1,u={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(16),n(14))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){n(13),e.exports=n(0)}]);